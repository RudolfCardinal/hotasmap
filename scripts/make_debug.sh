#!/usr/bin/env bash
set -e

THIS_DIR="$( cd "$( dirname "${BASH_SOURCE[0]}" )" >/dev/null 2>&1 && pwd )"

source "${THIS_DIR}/set_common_env_vars.sh"

JOYSTICK_OUT="${OUTPUT_DIR}/debug_joystick.png"
THROTTLE_OUT="${OUTPUT_DIR}/debug_throttle.png"
COMPOSITE_OUT="${OUTPUT_DIR}/debug_composite.png"

"${HOTASMAP}" \
    --format debug \
    --joyout "${JOYSTICK_OUT}" \
    --throtout "${THROTTLE_OUT}" \
    --compout "${COMPOSITE_OUT}" \
    --title "${DEVICES_TITLE}" \
    --subtitle "Layout debugging" \
    --wrap \
    --showrects \
    --extra_text "1  4567890123456789012345678901234567890
2  4567890123456789012345678901234567890
3  4567890123456789012345678901234567890
4  4567890123456789012345678901234567890
5  4567890123456789012345678901234567890
6  4567890123456789012345678901234567890
7  4567890123456789012345678901234567890
8  4567890123456789012345678901234567890
9  4567890123456789012345678901234567890
10 4567890123456789012345678901234567890
11 4567890123456789012345678901234567890
12 4567890123456789012345678901234567890
13 4567890123456789012345678901234567890
14 4567890123456789012345678901234567890
15 4567890123456789012345678901234567890"

rm "${JOYSTICK_OUT}"
rm "${THROTTLE_OUT}"
